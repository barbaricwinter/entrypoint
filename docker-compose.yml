version: "3"
volumes:
  workspace:
  dot_ssh:
  bin:
  entrypoint:
    external: true
  object-drive-ui-compose:
    external: true
  object-drive-ui:
    external: true
  secrets:
    external: true
  homey:
    external:
      name: 7f35d5a45e5a7a28e0a3ebd5ab0da654854b7487e6bf4348bfa858d821b9052a
  baker:
    external:
      name: f49f23e59b766a5b2c4f43e86c8d823e4beff854a49aac40e4765104047f577d
services:
  chromium:
    image: urgemerge/chromium-pulseaudio
    privileged: true
    tty: true
    shm_size: "256m"
    environment:
      - DISPLAY=unix$DISPLAY
      - TARGETUID=${HOST_UID}
      - XDG_RUNTIME_DIR=/run/user/${HOST_UID}
    volumes:
      - /tmp/.X11-unix:/tmp/.X11-unix:ro
      - /run/user/${HOST_UID}/pulse:/run/user/${HOST_UID}/pulse:ro
      - /etc/machine-id:/etc/machine-id:ro
      - /var/run/dbus/system_bus_socket:/var/run/dbus/system_bus_socket:ro
      - /var/lib/dbus:/var/lib/dbus:ro
      - /tmp:/tmp
      - /home/${HOST_USER}:/home/chromium/.config/pulse:ro
      - homey:/data
      - /home/aaja0ify:/srv/host:ro
      - workspace:/srv/workspace
      - /dev/video0:/dev/video:ro
  deciphernow:
    image: tidyrailroad/cloud9:5.3.0
    environment:
      - DISPLAY
    volumes:
      - workspace:/workspace
      - dot_ssh:/root/.ssh
      - bin:/root/bin
      - entrypoint:/srv/entrypoint
      - object-drive-ui-compose:/srv/object-drive-ui-compose
      - object-drive-ui:/workspace/projects/object-drive-ui
      - baker:/srv/baker
      - secrets:/srv/secrets:ro
      - /home/aaja0ify:/srv/host:ro
      - "/var/run/docker.sock:/var/run/docker.sock:ro"
    command: --listen 0.0.0.0 --auth user:password -w /workspace
